{% extends "matcher/base.html" %}

{% load staticfiles %}

{% block title %}Bancos disponibles{% endblock %}

{%block head%}
<!-- No hace falta cargar dataTables.css original si se incluye el de bootstrap -->
<link rel="stylesheet" href="{% static 'css/dataTables/dataTables.bootstrap.css' %}">
<link rel="stylesheet" href="{% static 'css/jquery-form-validation/jquery.validation.css' %}">
{%endblock%}

{% block content %}

<div class="table-responsive col-md-7">
    <table id="table-bancos" class="table table-bordered table-striped tabla">
        <thead>
            <tr>
                <th>Código</th>
                <th>Banco Corresponsal</th>
            </tr>
        </thead>
        <tbody>
            {% for banco in bancos %}
            <tr id= "tr-{{banco.idbanco}}">
                <td id= "td-{{banco.idbanco}}"><a href="/admin/banco/{{banco.idbanco}}" nombre ="{{ banco.nombre }}" codigo = "{{ banco.codigo }}" type="banco" id ="{{banco.idbanco}}"> {{ banco.codigo }}</a></td>
                <td>{{ banco.nombre }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="col-md-5">
    <button type="button" id="addButton" data-loading-text="Cargando..." class="btn btn-primary" autocomplete="off" data-toggle="modal" data-target="#add-banco-modal">
        Agregar Banco
    </button>
</div>
<div style="padding-top:1%;" class="col-md-5">
    <button type="button" id="delButton" data-loading-text="Cargando..." class="btn btn-danger" autocomplete="off">
        Eliminar Banco
    </button>
</div>

<input id="Id_banco" name="Id_banco" value="0" type="text" hidden>
<div style="padding-top:2%;" class="col-md-5 banco-detalle" hidden>
    <form class="form-vertical">
    <fieldset>
        <!-- Form Name -->
        <legend>Detalles:</legend>

        <div class="row clearfix">

            <div class="form-group col-md-8 column">
              <label class="control-label" for="Cod_banco">Código:</label>  
              <div>
                <input id="Cod_banco" name="Cod_banco" type="text" class="form-control input-md">
              </div>
            </div>

            <div class="form-group col-md-8 column">
              <label class="control-label" for="Nom_banco">Nombre:</label>  
              <div>
                <input id="Nom_banco" name="Nom_banco" type="text" class="form-control input-md">
              </div>
            </div>
        </div>
    </fieldset>
    </form>
</div>

<div class="modal fade" id="add-banco-modal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <form style="margin-left:8%;" id="form-add-bank" name="form-add-bank" method="POST" class="validation-form-container">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Agregar un banco</h4>
        </div>
        <div class="modal-body">
          <div class="field">
              <label for="add-banco-nombre">Nombre: </label>
              <div class="ui left labeled input">
                  <input type="text" name="add-banco[nombre]" id="add-banco-nombre" placeholder="Nombre del banco" data-validation="[L>=6, L<=18]" data-validation-message="$ must be between 6 and 18 characters. No special characters allowed." data-validation-regex="/^((?!admin).)*$/i" data-validation-regex-message="The word &quot;Admin&quot; is not allowed in the $" data-toggle="popover" data-content="You can use letters and numbers, no space or special characters">
                  <div class="ui corner label">
                    <i class="asterisk icon">*</i>
                  </div>
              </div>
          </div>

          <div class="field">
              <label for="add-banco-codigo">Codigo: </label>
              <div class="ui left labeled input">
                  <input type="text" name="add-banco[codigo]" id="add-banco-codigo" placeholder="Codigo del banco" data-validation="[L>=6, L<=18]" data-validation-message="$ must be between 6 and 18 characters. No special characters allowed." data-validation-regex="/^((?!admin).)*$/i" data-validation-regex-message="The word &quot;Admin&quot; is not allowed in the $" data-toggle="popover" data-content="You can use letters and numbers, no space or special characters"></input>
                  <div class="ui corner label">
                    <i class="asterisk icon">*</i>
                  </div>
              </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <input id="addb-submit" type="submit" class="btn btn-primary" value="Submit">
        </div>
      </form>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
{% endblock %}

{% block script%}
<script> //define el idioma de la tabla (es/en)
         idioma_tr = "es" </script>
<script src="{% static 'js/jquery.dataTables.min.js' %}" type="text/javascript"></script>
<script src="{% static 'js/dataTables.bootstrap.js' %}" type="text/javascript"></script>
<script src="{% static 'js/jquery-form-validation/jquery.validation.min.js' %}"></script>
<script src="{% static 'js/admin_bancos.js' %}" type="text/javascript" class="es "></script>
{% endblock %}