{% extends "matcher/base.html" %}

{% load staticfiles %}

{% block title %}Edo. Cuenta{% endblock %}

{%block head%}
<!-- No hace falta cargar dataTables.css original si se incluye el de bootstrap -->
<link rel="stylesheet" href="{% static 'css/dataTables/dataTables.bootstrap.css' %}">
<link rel="stylesheet" href="{% static 'css/jquery-form-validation/jquery.validation.css' %}">
{%endblock%}

{% block content %}
<style> form {padding-bottom: 1%;} #table-div-conta, #table-div-corr {padding-top: 1%;} </style>

<form class="form-inline">
<fieldset>
    <!-- Form Name -->
    <legend>Edo. Cuenta</legend>

    <div class="row clearfix">
        <!-- Select Basic -->
        <div class="form-group col-md-4 ">
          <label class="control-label" for="Cuenta-sel">Código Cuenta: </label>
          <div>
            <select id="Cuenta-sel" name="Cuenta-sel" class="form-control">
              <option value="0">----------</option>
              {% for cuenta in cuentas %}
              <option id="opt-{{cuenta.idcuenta}}" value="{{cuenta.idcuenta}}">{{cuenta.codigo}}</option>
              {% endfor %}
            </select>
          </div>
        </div>
        <!-- Text input-->
        <div class="form-group col-md-4">
          <label class="control-label" for="cta_nostro">Ref Nostro: </label>  
          <div>
          <input id="cta_nostro" name="cta_nostro" type="text" placeholder="{{cuenta.ref_nostro}}" class="form-control input-md" readonly>
          </div>
        </div>

        <!-- Text input-->
        <div class="form-group col-md-4">
          <label class="control-label" for="cta_vostro">Ref Vostro:</label>  
          <div>
          <input id="cta_vostro" name="cta_vostro" type="text" placeholder="{{cuenta.ref_vostro}}" class="form-control input-md" readonly>
          </div>
        </div>
    </div>
</fieldset>
</form>

<ul class="nav nav-tabs" id="edo-cuenta-tab">
    <li class="active"><a href="#conta-tab" data-toggle="tab">Contabilidad <i class="fa"></i></a></li>
    <li><a href="#corr-tab" data-toggle="tab">Corresponsal <i class="fa"></i></a></li>
</ul>

<div class="tab-content">
    <div class="tab-pane active" id="conta-tab">
        <div id="table-div-conta" class="table-responsive col-md-12">
            <table id="table-conta" class="table table-bordered table-striped tabla">
                <thead>
                    <tr>
                        <th>Código Cuenta</th>
                        <th>Estado</th>
                        <th>Edo. Cuenta</th>
                        <th>Páginas</th>
                        <th>Saldo Inicial</th>
                        <th>Saldo Final</th>
                    </tr>
                </thead>
                <tbody id="tb-conta">
                </tbody>
            </table>
        </div>
    </div>

    <div class="tab-pane" id="corr-tab">
        <div id="table-div-corr" class="table-responsive col-md-12">
            <table id="table-corr" class="table table-bordered table-striped tabla">
                <thead>
                    <tr>
                        <th>Código Cuenta</th>
                        <th>Estado</th>
                        <th>Edo. Cuenta</th>
                        <th>Páginas</th>
                        <th>Saldo Inicial</th>
                        <th>Saldo Final</th>
                    </tr>
                </thead>
                <tbody id="tb-corr">
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}

{% block script%}
<script> 
    //define el idioma de la tabla (es/en)
    idioma_tr = "es"
</script>
<script>
$('#Cuenta-sel').change(function() {
  var cuentaId = $('#Cuenta-sel').val();
  est_cuenta(cuentaId);
});
</script>
<script src="{% static 'js/jquery.dataTables.min.js' %}" type="text/javascript"></script>
<script src="{% static 'js/dataTables.bootstrap.js' %}" type="text/javascript"></script>
<script src="{% static 'js/jquery-form-validation/jquery.validation.min.js' %}"></script>
<script src="{% static 'js/estadoCuentas.js' %}" type="text/javascript"></script>
{% endblock %}