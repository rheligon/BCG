{% extends "matcher/base.html" %}

{% load staticfiles %}

{% block title %}criterios disponibles{% endblock %}

{%block head%}
<!-- No hace falta cargar dataTables.css original si se incluye el de bootstrap -->
<link rel="stylesheet" href="{% static 'css/dataTables/dataTables.bootstrap.css' %}">
<link rel="stylesheet" href="{% static 'css/jquery-form-validation/jquery.validation.css' %}">
<link rel="stylesheet" href="{% static 'css/sweet-alert.css' %}">
{%endblock%}

{% block content %}

<div class="table-responsive col-md-10">
    <table id="table-criterios" class="table table-bordered table-striped tabla">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Monto 1</th>
                <th>Monto 2</th>
                <th>Monto 3</th>
                <th>Fecha 1</th>
                <th>Fecha 2</th>
                <th>Fecha 3</th>
                <th>Fecha 4</th>
                <th>Fecha 5</th>
            </tr>
        </thead>
        <tbody>
            {% for criterio in criterios %}
            <tr id= "tr-{{criterio.idcriterio}}">
                <td id= "td-{{criterio.idcriterio}}"><a href="/admin/crit_reglas/{{criterio.idcriterio}}" nombre ="{{ criterio.nombre }}" monto1="{{ criterio.monto1 }}" monto2="{{ criterio.monto2 }}" monto3="{{ criterio.monto3 }}" fecha1="{{ criterio.fecha1 }}" fecha2="{{ criterio.fecha2 }}" fecha3="{{ criterio.fecha3 }}" fecha4="{{ criterio.fecha4 }}" fecha5="{{ criterio.fecha5 }}" type="criterio" id ="{{criterio.idcriterio}}"> {{ criterio.nombre }}</a></td>
                <td>{{ criterio.monto1 }}</td>
                <td>{{ criterio.monto2 }}</td>
                <td>{{ criterio.monto3 }}</td>
                <td>{{ criterio.fecha1 }}</td>
                <td>{{ criterio.fecha2 }}</td>
                <td>{{ criterio.fecha3 }}</td>
                <td>{{ criterio.fecha4 }}</td>
                <td>{{ criterio.fecha5 }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="col-md-1">
    <button type="button" id="addButton" data-loading-text="Cargando..." class="btn btn-success" autocomplete="off" data-toggle="modal" data-target="#add-criterio-modal">
        Agregar
    </button>
</div>
<div style="padding-top:1%;" class="col-md-2">
    <button type="button" id="delButton" data-loading-text="Cargando..." class="btn btn-danger" autocomplete="off">
        Eliminar
    </button>
</div>
<div style="padding-top:1%;" class="col-md-2">
    <button type="button" id="updButton" data-loading-text="Cargando..." class="btn btn-primary" autocomplete="off">
        Modificar
    </button>
</div>

<input id="Id_criterio" name="Id_criterio" value="0" type="text" hidden>
<div style="padding-top:2%;" class="col-md-7 criterio-detalle" hidden>
    <form class="form-horizontal">
    <fieldset>
        <!-- Form Name -->
        <legend>Detalles:</legend>

        <div class="row clearfix">
            
            <div class="form-group col-md-12">
              <label class="col-md-12" for="Nom_criterio">Nombre:</label>  
              <div class="col-md-4">
                <input id="Nom_criterio" name="Nom_criterio" type="text" class="form-control input-md">
              </div>
            </div>
            
            <div class="form-group col-md-12">
              <label class="col-md-12">Diferencia de montos:</label>  
              <div class="col-md-2">
                <input id="Mon1_criterio" name="Mon1_criterio" type="text" class="form-control input-md">
              </div>
              <div class="col-md-2">
                <input id="Mon2_criterio" name="Mon2_criterio" type="text" class="form-control input-md">
              </div>
              <div class="col-md-2">
                <input id="Mon3_criterio" name="Mon3_criterio" type="text" class="form-control input-md">
              </div>
            </div>

            <div class="form-group col-md-12">
              <label class="col-md-12">Diferencia de Fechas:</label>  
              <div class="col-md-2">
                <input id="F1_criterio" name="F1_criterio" type="text" class="form-control input-md">
              </div>
              <div class="col-md-2">
                <input id="F2_criterio" name="F2_criterio" type="text" class="form-control input-md">
              </div>
              <div class="col-md-2">
                <input id="F3_criterio" name="F3_criterio" type="text" class="form-control input-md">
              </div>
              <div class="col-md-2">
                <input id="F4_criterio" name="F4_criterio" type="text" class="form-control input-md">
              </div>
              <div class="col-md-2">
                <input id="F5_criterio" name="F5_criterio" type="text" class="form-control input-md">
              </div>
            </div>
        </div>            
    </fieldset>
    </form>
</div>

<div class="modal fade" id="add-criterio-modal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <form style="margin-left:8%;" id="form-add-criterio" name="form-add-criterio" method="POST" class="validation-form-container">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Agregar un criterio</h4>
        </div>
        <div class="modal-body">
          <div class="field">
              <label for="add-criterio-nombre">Nombre: </label>
              <div class="ui left labeled input">
                  <input type="text" name="add-criterio[nombre]" id="add-criterio-nombre" placeholder="Nombre del criterio" data-validation="[L>=1, L<=20]" data-validation-message="$ must be between 1 and 20 characters. No special characters allowed." data-validation-regex="/^((?!admin).)*$/i" data-validation-regex-message="The word &quot;Admin&quot; is not allowed in the $" data-toggle="popover" data-content="You can use letters and numbers, no space or special characters">
                  <div class="ui corner label">
                    <i class="asterisk icon">*</i>
                  </div>
              </div>
          </div>

          <div class="field">
              <label for="add-criterio-codigo">Monto 1: </label>
              <div class="ui left labeled input">
                  <input type="text" name="add-criterio[mon1]" id="add-criterio-mon1" placeholder="Monto 1 del criterio"  data-validation-regex="/^((?!admin).)*$/i" data-validation-regex-message="The word &quot;Admin&quot; is not allowed in the $" data-toggle="popover" data-content="You can use letters and numbers, no space or special characters"></input>
                  <div class="ui corner label">
                    <i class="asterisk icon">*</i>
                  </div>
              </div>
          </div>
          <div class="field">
              <label for="add-criterio-codigo">Monto 2: </label>
              <div class="ui left labeled input">
                  <input type="text" name="add-criterio[mon2]" id="add-criterio-mon2" placeholder="Monto 2 del criterio"  data-validation-regex="/^((?!admin).)*$/i" data-validation-regex-message="The word &quot;Admin&quot; is not allowed in the $" data-toggle="popover" data-content="You can use letters and numbers, no space or special characters"></input>
                  <div class="ui corner label">
                    <i class="asterisk icon">*</i>
                  </div>
              </div>
          </div>
          <div class="field">
              <label for="add-criterio-codigo">Monto 3: </label>
              <div class="ui left labeled input">
                  <input type="text" name="add-criterio[mon3]" id="add-criterio-mon3" placeholder="Monto 3 del criterio"  data-validation-regex="/^((?!admin).)*$/i" data-validation-regex-message="The word &quot;Admin&quot; is not allowed in the $" data-toggle="popover" data-content="You can use letters and numbers, no space or special characters"></input>
                  <div class="ui corner label">
                    <i class="asterisk icon">*</i>
                  </div>
              </div>
          </div>
          <div class="field">
              <label for="add-criterio-codigo">Fecha 1: </label>
              <div class="ui left labeled input">
                  <input type="text" name="add-criterio[F1]" id="add-criterio-F1" placeholder="Fecha 1 del criterio"  data-validation-regex="/^((?!admin).)*$/i" data-validation-regex-message="The word &quot;Admin&quot; is not allowed in the $" data-toggle="popover" data-content="You can use letters and numbers, no space or special characters"></input>
                  <div class="ui corner label">
                    <i class="asterisk icon">*</i>
                  </div>
              </div>
          </div>
          <div class="field">
              <label for="add-criterio-codigo">Fecha 2: </label>
              <div class="ui left labeled input">
                  <input type="text" name="add-criterio[F2]" id="add-criterio-F2" placeholder="Fecha 2 del criterio"  data-validation-regex="/^((?!admin).)*$/i" data-validation-regex-message="The word &quot;Admin&quot; is not allowed in the $" data-toggle="popover" data-content="You can use letters and numbers, no space or special characters"></input>
                  <div class="ui corner label">
                    <i class="asterisk icon">*</i>
                  </div>
              </div>
          </div>
          <div class="field">
              <label for="add-criterio-codigo">Fecha 3: </label>
              <div class="ui left labeled input">
                  <input type="text" name="add-criterio[F3]" id="add-criterio-F3" placeholder="Fecha 3 del criterio"  data-validation-regex="/^((?!admin).)*$/i" data-validation-regex-message="The word &quot;Admin&quot; is not allowed in the $" data-toggle="popover" data-content="You can use letters and numbers, no space or special characters"></input>
                  <div class="ui corner label">
                    <i class="asterisk icon">*</i>
                  </div>
              </div>
          </div>
          <div class="field">
              <label for="add-criterio-codigo">Fecha 4: </label>
              <div class="ui left labeled input">
                  <input type="text" name="add-criterio[F4]" id="add-criterio-F4" placeholder="Fecha 4 del criterio"  data-validation-regex="/^((?!admin).)*$/i" data-validation-regex-message="The word &quot;Admin&quot; is not allowed in the $" data-toggle="popover" data-content="You can use letters and numbers, no space or special characters"></input>
                  <div class="ui corner label">
                    <i class="asterisk icon">*</i>
                  </div>
              </div>
          </div>
          <div class="field">
              <label for="add-criterio-codigo">Fecha 5: </label>
              <div class="ui left labeled input">
                  <input type="text" name="add-criterio[F5]" id="add-criterio-F5" placeholder="Fecha 5 del criterio"  data-validation-regex="/^((?!admin).)*$/i" data-validation-regex-message="The word &quot;Admin&quot; is not allowed in the $" data-toggle="popover" data-content="You can use letters and numbers, no space or special characters"></input>
                  <div class="ui corner label">
                    <i class="asterisk icon">*</i>
                  </div>
              </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <input id="addb-submit" type="submit" class="btn btn-primary" value="Submit">
        </div>
      </form>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
{% endblock %}

{% block script%}
<script> //define el idioma de la tabla (es/en)
         idioma_tr = "es" </script>
<script src="{% static 'js/jquery.dataTables.min.js' %}" type="text/javascript"></script>
<script src="{% static 'js/dataTables.bootstrap.js' %}" type="text/javascript"></script>
<script src="{% static 'js/jquery-form-validation/jquery.validation.min.js' %}"></script>
<script src="{% static 'js/sweet-alert.min.js' %}"></script>
<script src="{% static 'js/admin_criterios_reglas.js' %}" type="text/javascript"></script>
{% endblock %}